<%= image_tag "pokemon_banner.png", style: 'background-size: cover; width: 100%; height: 100%' %>


  <div class="row mt-3 mx-2">
    <div class="col-sm-6 ">
      <div class="search_poke">
        <%= form_tag pokemons_path, style:"display: block ruby", method: :get do %>
        <%= text_field_tag :query,
        params[:query],
        class: "form-control",
        placeholder: "Find a pokemon"
        %>
        <%= submit_tag "Search", class:"btn-ghost" %>
        <% end %>
      </div>
    </div>
    <div class="col-sm-6  d-flex justify-content-end">
        <% if policy(Pokemon).create? %>
          <%= link_to "Add a Pokemon!", new_pokemon_path, class: "btn-ghost" %>
        <% end %>
    </div>
  </div>


<div class="row mt-4 w-100 mx-0">
  <% @pokemons.each do |pokemon| %>
    <div class="col-3 mb-3 px-3">
      <%= link_to pokemon_path(pokemon), id: "card-link" do %>
        <div class="column bg-white h-100" id="card">
          <% if pokemon.photo.attached? %>
            <%= cl_image_tag pokemon.photo.key, height: 300, class: "img-card-top" %>
          <% else%>
            <%= "METTRE UNE IMAGE" %>
          <% end%>
          <ul class="list-group list-group-flush">
            <li class="list-group-item" style="center" id="pokename"> <%= pokemon.name %></li>
            <li class="list-group-item"> <strong>Description:</strong> <%= pokemon.description %> </li>
            <li class="list-group-item"> Special: <%= pokemon.special_capacity %> </li>
            <li class="list-group-item"> Category: <%= pokemon.category %></li>
            <li class="list-group-item">Rating:</li>
            <li class="list-group-item">Availability:</li>
          </ul>
        </div>
       <% end %>
    </div>
  <% end %>
</div>
  <div style="width: 100%; height: 600px;"
    data-controller="mapbox"
    data-mapbox-markers-value="<%= @markers.to_json %>"
    data-mapbox-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
  </div>
